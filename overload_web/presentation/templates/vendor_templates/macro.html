{% macro render_template_fields(field_constants) %}
<h5>Template Name</h5>
<div class="row gy-1 my-2">
    <div class="col">
        <div class="form-floating">
            <input type="text" class="form-control" value="{{ value|e }}" name="name" id="name">
            <label for="name">Name</label>
        </div>
    </div>
    <div class="col">
        <div class="form-floating">
            <input type="text" class="form-control" value="{{ value|e }}" name="agent" id="agent">
            <label for="agent">Agent</label>
        </div>
    </div>                    
</div>
{% for type,fields in field_constants.items()%}
    {% if type=="fixed_fields"%}
    <h5>Order Fixed Fields</h5>
    
    {% elif type=="var_fields"%}
    <h5>Order Variable Fields</h5>

    {% elif type=="matchpoints"%}
    <h5>Sierra Matchpoints</h5> 
    {%endif%}

    <div class="row row-cols-3 gy-1 my-2">
        {% for field_id, field_data in fields.items() %}
            <div class="col">
                <div class="form-floating">
                    {% if "options" in field_data %}
                        <select class="form-select" name="{{field_id}}", id="{{field_id}}">
                            <option selected value=""></option>       
                            {% for k, v in field_data['options'].items() %}
                            <option value="{{k}}">{{k}} ({{v}})</option>
                            {%endfor%}
                        </select>                                      
                    {%else%}
                        <input type="text" class="form-control" value="{{ value|e }}" name="{{field_id}}" id="{{field_id}}">
                    {%endif%}  
                    <label for="{{field_id}}">{{field_data['label']}}</label>
                </div>
            </div>
        {%endfor%} 
    </div>
{%endfor%}
<div hx-include="#template-form-fields">
    <button hx-post="/api/template" type="submit" class="btn my-3" style="border-color: #d52828;" hx-indicator="#loading-spinner" hx-target="#template-output">Save Template as New</button>
</div>
{% endmacro %}

{% macro render_template_list(templates) %}
<h5>Existing Templates</h5>
<div class="row gy-1 my-2">
    <div name="templates" id="templates" hx-get="/api/templates" hx-target="#template-list" hx-swap="innerHTML" hx-trigger="load"></div>
    <div id="template-list"></div>
</div>    
{% endmacro %}