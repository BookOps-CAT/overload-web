{% import "context/macro.html" as macro %}
<div class="row gy-1 my-2" id="context-section"> 
  <div class="col">
    <div class="row">
    {% for field_id, field_data in context_fields.items() %}
      {{ macro.select_field(field_id, field_data, context.get(field_id)) }}
    {% endfor %}
    </div>
    <div class="row">
      <div class="col">
        <button hx-get="/htmx/forms/context" hx-target="#context-form" hx-swap="innerHTML" class="btn my-3" style="border-color: #d52828;">Edit Library Context</button>
      </div>
    </div>
  </div>
  <div class="col">
    <div class="row">       
      <h3>Context Results</h3>
      <ul>
      {% for k,v in context.items() %}
        <input type="hidden" name="{{ k }}" value="{{ v }}" id="{{ k }}">
        {{ k }}: {{ v }}</br>
      {% endfor %}
      </ul>
    </div>        
  </div> 